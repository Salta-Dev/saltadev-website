repos:
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.15.1
    hooks:
      - id: ruff
        args: ["--fix"]
        files: ^saltadev/
      - id: ruff-format
        files: ^saltadev/

  - repo: https://github.com/biomejs/pre-commit
    rev: v2.3.15
    hooks:
      - id: biome-format
        files: ^saltadev/.*\.(js|css|html)$
      - id: biome-lint
        files: ^saltadev/.*\.(js|css)$

  - repo: https://github.com/PyCQA/bandit
    rev: 1.9.3
    hooks:
      - id: bandit
        args: ["-r", "saltadev", "-ll"]
        pass_filenames: false
        files: ^saltadev/.*\.py$

  - repo: https://github.com/Yelp/detect-secrets
    rev: v1.5.0
    hooks:
      - id: detect-secrets
        args:
          [
            "--baseline",
            ".secrets.baseline",
            "--exclude-files",
            '^saltadev/\.env\..*|^saltadev/.*/tests/.*',
          ]
        files: ^saltadev/

  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.11.2
    hooks:
      - id: mypy
        args: ["--config-file", "mypy.ini"]
        additional_dependencies:
          [
            "django-stubs==5.2.9",
            "django-stubs-ext==5.2.9",
            "Django==5.2.11",
            "django-recaptcha==4.1.0",
            "django-axes==8.3.1",
            "dj-database-url==3.1.1",
            "cloudinary==1.44.1",
            "django-cloudinary-storage==0.3.0",
            "django-tailwind-cli==4.5.1",
            "loguru==0.7.2",
            "types-python-dateutil==2.9.0.20240906",
            "types-requests==2.32.0.20241016",
            "python-dotenv==1.2.1",
            "django-notifications-hq @ git+https://github.com/django-notifications/django-notifications.git@master",
            "celery==5.6.2",
            "celery-types==0.23.0",
          ]
        files: ^saltadev/.*\.py$
